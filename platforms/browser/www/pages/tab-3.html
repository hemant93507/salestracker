<template>
  <div class="page">
    <div class="page-content">
      <div class="block text-align-center">

      </div>
    </div>
  </div>
</template>
<script>
  return {
    on: {
      tabInit: function () {
        var spinnerOptions = { dimBackground: false };
        SpinnerPlugin.activityStart(null, spinnerOptions);
        cordova.plugins.barcodeScanner.scan(
          function (result) {
            SpinnerPlugin.activityStop();
            if (result.cancelled) {
              app.views.main.router.navigate('/dashboard/');
            }
            else{
              alert(result.text);
            }
          },
          function (error) {
            SpinnerPlugin.activityStop();
            alert("Error: " + error);
          },
          {
            prompt: "Place QR code/Barcode inside the scan area"
          }
        );
      }
    }
  }
</script>